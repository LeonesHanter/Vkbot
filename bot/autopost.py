import asyncio
from .config import config
from .utils import send_message

AUTO_MESSAGE = (
    "ü¶äüçÇ–ú–∞–¥–∞–º –õ–∏—Å–∏—á–∫–∞ –≥–æ—Ç–æ–≤–∞ —Å–¥–µ–ª–∞—Ç—å –í–∞—Å —Å–∏–ª—å–Ω–µ–µüçÇü¶ä\n\n"
    "‚ÄºÔ∏è–ê–≤—Ç–æ–±–∞—Ñ, –∞–≤—Ç–æ–ø–æ—Å—Ç‚ÄºÔ∏è\n\n"
    "‚öîÔ∏è–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ –∞—Ç–∞–∫–∏  ‚Äî 352 \n"
    "üõ°Ô∏è–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ –∑–∞—â–∏—Ç—ã ‚Äî 351 \n"
    "üçÄ–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ —É–¥–∞—á–∏ ‚Äî 350 \n"
    "‚ò†Ô∏è–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ –Ω–µ–∂–∏—Ç–∏ ‚Äî 349 \n"
    "üë∫–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ –¥–µ–º–æ–Ω–∞ ‚Äî 348\n"
    "ü¶∏–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞ (–∏–Ω–æ–≥–¥–∞) ‚Äî 347\n\n"
    "–®–∞–Ω—Å –∫—Ä–∏—Ç–∞ —Å –∫–æ–ª–µ—á–∫–æ–º 51-52%\n\n"
    "–í–æ–∑–º–æ–∂–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞ –æ—á–µ—Ä–µ–¥–∏. –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º ‚Äî –≤ [https://vk.com/lesyalutokvinova|–ª—Å]"
)


async def auto_post_loop(session):
    while True:
        try:
            await send_message(
                session=session,
                token=config.token,
                peer_id=config.peer_id,
                message=AUTO_MESSAGE,
                reply_to=None,
            )
            print(f"[AUTOPOST] –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —á–∞—Ç {config.main_chat_id}")
        except Exception as e:
            print(f"[AUTOPOST] –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: {e}")
        await asyncio.sleep(3 * 60 * 60)  # 3 —á–∞—Å–∞
